import{initializeApp}from"https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js";import{getFirestore,collection,addDoc,serverTimestamp}from"https://www.gstatic.com/firebasejs/10.11.1/firebase-firestore.js";const firebaseConfig={apiKey:"AIzaSyCLC4Dz-qxNOPtRFhybiBA5SqCDJgvKqMY",authDomain:"neat-53fa9.firebaseapp.com",projectId:"neat-53fa9",storageBucket:"neat-53fa9.appspot.com",messagingSenderId:"857317417173",appId:"1:857317417173:web:6b84a45c96ebe56fce425c"},app=initializeApp(firebaseConfig),db=getFirestore(app),form=document.getElementById("subscribeForm"),emailInput=document.getElementById("email"),popupCard=document.getElementById("popupCard"),thankYouMsg=document.getElementById("thankYouMsg"),overlay=document.getElementById("subscriptionPopup"),bgVideo=document.getElementById("bgVideo");form.addEventListener("submit",(async e=>{e.preventDefault();const t=emailInput.value.trim();if(t)try{await addDoc(collection(db,"email"),{email:t,timestamp:serverTimestamp()}),popupCard.classList.add("hide");const e=()=>{popupCard.style.display="none",thankYouMsg.classList.add("visible"),bgVideo.style.transition="filter 0.6s ease",overlay.style.transition="backdrop-filter 0.6s ease",bgVideo.style.filter="brightness(0.6) blur(1px)",overlay.style.backdropFilter="blur(5px)",popupCard.removeEventListener("animationend",e)};popupCard.addEventListener("animationend",e)}catch(e){alert("Oops! There was an error subscribing. Please try again."),console.error("Error saving email:",e)}else alert("Please enter a valid email.")}));